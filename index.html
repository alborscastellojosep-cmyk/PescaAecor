<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Pesca</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 1em; 
            max-width: 600px; 
            margin-left: auto; 
            margin-right: auto; 
        }
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto 1em auto;
        }
        h1 { 
            text-align: center; 
            font-size: 1.6em; 
        }
        label { 
            margin-top: 0.5em; 
            display: block; 
            font-size: 1em; 
        }
        select, input, button { 
            margin: 0.5em 0; 
            display: block; 
            width: 100%; 
            padding: 0.6em; 
            font-size: 1em; 
            border-radius: 5px; 
            border: 1px solid #ccc;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        #resultados { 
            margin-top: 2em; 
            font-size: 0.95em;
        }
        .hora { 
            margin-bottom: 1em; 
            padding: 0.6em; 
            border: 1px solid #ddd; 
            border-radius: 5px; 
            background: #f9f9f9; 
        }
    </style>
</head>
<body>
    <img src="1.jpeg" alt="Pez pescado">
    <h1>Simulador de Pesca</h1>
    <form id="pescaForm">
        <label for="dadoCompetencia">Elige tu dado de competencia:</label>
        <select id="dadoCompetencia" required>
            <option value="4">D4</option>
            <option value="6">D6</option>
            <option value="8">D8</option>
            <option value="10">D10</option>
            <option value="12">D12</option>
        </select>
        <label for="horas">¿Cuántas horas has pescado?</label>
        <input type="number" id="horas" min="1" max="24" required>
        <button type="submit">Tirar dados</button>
    </form>
    <div id="resultados"></div>

    <script>
        function tirarDado(lados) {
            return Math.floor(Math.random() * lados) + 1;
        }

        function calcularRaciones(resultado) {
            if (resultado >= 1 && resultado <= 4) return { dado: 4, texto: "D4" };
            if (resultado >= 5 && resultado <= 7) return { dado: 6, texto: "D6" };
            if (resultado >= 8 && resultado <= 12) return { dado: 8, texto: "D8" };
            if (resultado >= 13 && resultado <= 16) return { dado: 10, texto: "D10" };
            if (resultado >= 17 && resultado <= 19) return { dado: 12, texto: "D12" };
            if (resultado >= 20) return { dado: 20, texto: "D20" };
        }

        document.getElementById('pescaForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const dadoCompetencia = parseInt(document.getElementById('dadoCompetencia').value);
            const horas = parseInt(document.getElementById('horas').value);
            let resultadosDiv = document.getElementById('resultados');
            resultadosDiv.innerHTML = '';
            let totalRaciones = 0;

            for (let i = 1; i <= horas; i++) {
                const d20 = tirarDado(20);
                const competencia = tirarDado(dadoCompetencia);
                const resultado = d20 + competencia;
                const infoRacion = calcularRaciones(resultado);
                const raciones = tirarDado(infoRacion.dado);
                totalRaciones += raciones;

                resultadosDiv.innerHTML += `
                    <div class="hora">
                        <strong>Hora ${i}:</strong><br>
                        D20 (${d20}) + D${dadoCompetencia} (${competencia}) = <strong>${resultado}</strong><br>
                        Raciones: Tira ${infoRacion.texto} → <strong>${raciones}</strong>
                    </div>
                `;
            }
            resultadosDiv.innerHTML += `<h2>Total de raciones: ${totalRaciones}</h2>`;
        });
    </script>
</body>
</html>
